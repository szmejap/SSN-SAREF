\documentclass{sig-alternate-05-2015}

\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{xparse}

\usepackage[dvipsnames]{xcolor} % color names
\usepackage{moresize} % give more size options than the standard ones
\usepackage{hyperref}
\usepackage[inline]{enumitem}

\usepackage{listings}
\lstset{
	tabsize=2,
	frame=lines,
	%caption=sample caption,
	captionpos=b,
	%abovecaptionskip=10pt,
	%belowcaptionskip=10pt,
	%label=code:sample,
	frame=shadowbox,
	rulesepcolor=\color{gray},
	xleftmargin=10pt,
	%framexleftmargin=15pt,
	identifierstyle=\color{Brown}\ttfamily,
	%keywordstyle=\color{Green}\bf\ttfamily,
	commentstyle=\color{OliveGreen},
	stringstyle=\color{Brown}\ttfamily,
	numbers=left,
	numberstyle=\tiny,
	numbersep=5pt,
	%breaklines=true,
	showstringspaces=false,
	basicstyle=\footnotesize\ttfamily,  % or e.g., \ssmal to get small font in listings
	morecomment=[n]{/*}{*/},
	morekeywords={},
	breaklines=true,
	postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{red}\hookrightarrow\space}}
	emph={for,each,if,else,then,in,is,create,IN
	},emphstyle={\color{blue}\bf\ttfamily}
}

\newcommand{\erestr}[2]{\exists\;\,{\tt #1}\,.\,{\tt #2}}
\DeclareDocumentCommand\node{ m g }{{\tt #1\IfNoValueF {#2} {{:}#2}}}



\begin{document}

% Copyright
%\setcopyright{acmcopyright}
%\setcopyright{acmlicensed}
%\setcopyright{rightsretained}
%\setcopyright{usgov}
%\setcopyright{usgovmixed}
%\setcopyright{cagov}
%\setcopyright{cagovmixed}


% DOI
\doi{DOI}

% ISBN
\isbn{ISBN}

%Conference
\conferenceinfo{SEMANTICS '17}{September 16--19, 2017, Amsterdam, The Netherlands}

\acmPrice{\$0.00}

%
% --- Author Metadata here ---

\conferenceinfo{SEMANTICS}{'2017 Amsterdam, The Netherlands}

% --- End of Author Metadata ---

\title{Towards IoT platforms' integration: Semantic Translations between {\ttlit W3C SSN} and {\ttlit SAREF}}

\numberofauthors{9} %  in this sample file, there are a *total*

\author{
% You can go ahead and credit any number of authors here,
% e.g. one 'row of three' or two rows (consisting of one row of three
% and a second row of one, two or three).
%
% The command \alignauthor (no curly braces needed) should
% precede each author name, affiliation/snail-mail address and
% e-mail address. Additionally, tag each line of
% affiliation/address with \affaddr, and tag the
% e-mail address with \email.
%
% 1st. author
\alignauthor
João Moreira\\
       \affaddr{University of Twente}\\
       \affaddr{Enschede, The Netherlands}\\
       \email{j.luizrebelomoreira@utwente.nl}
% 2nd. author
\alignauthor
Laura Danielle\\
       \affaddr{TNO}\\
       \affaddr{The Haugue, The Netherlands}\\
       \email{webmaster@marysville-ohio.com}
% 3rd. author
\alignauthor 
Luis Ferreira Pires\\
       \affaddr{University of Twente}\\
       \affaddr{Enschede, The Netherlands}\\
       \email{larst@affiliation.org}
\and  % use '\and' if you need 'another row' of author names
% 4th. author
\alignauthor 
Marten van Sinderen\\
       \affaddr{University of Twente}\\
       \affaddr{Enschede, The Netherlands}\\
       \email{lleipuner@researchlabs.org}
% 5th. author
\alignauthor 
Katarzyna Wasielewska\\
       \affaddr{Systems Research Institute, Polish Academy of Sciences}\\
       \affaddr{Warsaw, Poland}\\
       \email{katarzyna.wasielewsk@ibspan.waw.pl}
% 6th. author
\alignauthor 
Pawel Szmeja\\
       \affaddr{Systems Research Institute, Polish Academy of Sciences}\\
       \affaddr{Warsaw, Poland}\\
       \email{fogartys@amesres.org}
\and  % use '\and' if you need 'another row' of author names
% 7th. author
\alignauthor 
Wieslaw Pawlowski\\
       \affaddr{Systems Research Institute, Polish Academy of Sciences}\\
       \affaddr{Warsaw, Poland}\\
       \email{lleipuner@researchlabs.org}
% 8th. author
\alignauthor 
Maria Ganzha\\
       \affaddr{Systems Research Institute, Polish Academy of Sciences}\\
       \affaddr{Warsaw, Poland}\\
       \email{fogartys@amesres.org}
% 9th. author
\alignauthor 
Marcin Paprzycki\\
       \affaddr{Systems Research Institute, Polish Academy of Sciences}\\
       \affaddr{Warsaw, Poland}\\
       \email{fogartys@amesres.org}
}
% There's nothing stopping you putting the seventh, eighth, etc.
% author on the opening page (as the 'third row') but we ask,
% for aesthetic reasons that you place these 'additional authors'
% in the \additional authors block, viz.
%\additionalauthors{Additional authors: John Smith (The Th{\o}rv{\"a}ld Group,
%email: {\texttt{jsmith@affiliation.org}}) and Julius P.~Kumquat
%(The Kumquat Consortium, email: {\texttt{jpkumquat@consortium.net}}).}
%\date{30 July 1999}
% Just remember to make sure that the TOTAL number of authors
% is the number that will appear on the first page PLUS the
% number that will appear in the \additionalauthors section.

\maketitle
\begin{abstract}
Several IoT ontologies were developed to promote semantic interoperability of IoT solutions. The most notable ontology, the W3C Semantic Sensor Network (SSN), is considered an ontological foundation for diverse IoT initiatives, as OpenIoT. With characteristics similar to SSN, the Smart Appliances REFerence (SAREF) ontology emphasizes the needs of smart home solutions. Some IoT solutions rely on platform-specific ontologies and their integration requires mechanisms to align these ontologies. In this paper we describe the initial steps towards an alignment between SSN and SAREF, proposing an initial specification of the translation mappings among the main elements of the ontologies, i.e. classes, object properties and data properties. The alignment will be used in a semantic translation process leveraging the INTER-IoT project. An initial evaluation of the translation demonstrates how a wind sensor (Vaisala WM30), an example provided by the W3C, is translated from SSN to SAREF.
\end{abstract}


%
% The code below should be generated by the tool at
% http://dl.acm.org/ccs.cfm
% Please copy and paste the code instead of the example below. 
%
\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10002951.10003260.10003309.10003315</concept_id>
<concept_desc>Information systems~Semantic web description languages</concept_desc>
<concept_significance>500</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[500]{Information systems~Semantic web description languages}


%
% End generated code
%

%
%  Use this command to print the description
%
\printccsdesc

% We no longer use \terms command
%\terms{Theory}

\keywords{Semantic interoperability, internet-of-things, ontology alignment, SAREF, W3C SSN}

\section{Introduction}

Over the past years a number of IoT ontologies were proposed to enable semantic interoperability of sensors in integrated IoT solutions. In this context, the W3C Semantic Sensor Network (SSN) is considered an ontological foundation for the IoT, covering the application of diverse types of sensors, widely used by several initiatives, as OpenIoT and WSSN \cite{Ganzha2016a}. 
Recently, the Smart Appliances REFerence (SAREF) ontology was developed \cite{Daniele2015}, targeting smart appliances (e.g. smart ovens and refrigerators), created in close interaction with the smart home industry. It is based on 47 “semantic assets”, which include syntactic standards, proprietary data models and other ontologies, as W3C SSN. 

A challenge to integrate sensor networks relying on SSN with smart appliance solutions relying on SAREF is how to align these ontologies. Therefore, an ontology alignment of SSN and SAREF is required, i.e. finding the correspondences between entities (atomic alignment) or groups of entities and sub-structures (complex alignment) \cite{Ganzha2015}. In particular, IoT platforms can benefit from these ontology alignments when they need to interoperate with other IoT platforms relying on different ontologies. To enable integration among two IoT platforms, where one platform relies on SSN and the other relies on SAREF, a semantics translation approach can be used to implement their alignments.  

In this paper we describe the initial steps towards bi-directional semantic translation rules between SSN and SAREF. We adopted a software engineering methodology including specification and implementation phases. Here we described the specification of the mappings among the main elements for the semantic translations from SSN to SAREF. This specification will be used for further configuration and deployment in the Inter-Platform Semantic Mediator (IPSM) of the INTER-IoT project (\url{www.inter-iot-project.eu}). An evaluation of these initial mappings is presented, demonstrating how the wind sensor WM30, an example provided by the W3C, is translated from SSN to SAREF. The semantics of the generated ontology is verified whether was maintained or lost after the simulations of the translations. 

Section 2 describes the background research, including an overview of the IPSM architecture, the SSN and SAREF ontologies. Section 3 describes the methodology used for the development of the semantic translations. Section 4 introduces the mappings from SSN to SAREF, describes the evaluation of the mappings and discusses about issues found. Section 5 concludes this work by presenting lessons learned and future work. 

\section{BACKGROUND}

\subsection{INTER-IoT semantic mediator}
The H2020 project Interoperability of Heterogeneous IoT Platforms (INTER-IoT) \cite{Ganzha2016,Ganzha2017a} is currently developing the  Inter-Platform Semantic Mediator (IPSM) tool. IPSM is a software tool that follows semantic interoperability design patterns identified in INTER-IoT, and is intended to be used as part of translation process defined in the methodology (INTER-Meth). The process of achieving semantic interoperability involves the following steps:

\begin{enumerate*}[label=\roman*)]
	\item lift semantics to a common format and make it explicit \cite{Ganzha2017a}
	\item develop, or choose, a central modular ontology
	\item prepare uni-directional alignments between ontologies of communicating artifacts and the central ontology
	\item establish a multi-channel (1-1, 1-many, many-1) communication architecture that will facilitate translations in all needed contexts, with the central ontology as an intermediary
\end{enumerate*}

%The following tasks are executed as part of the IPSM design and implementation to:  (2) develop a central modular ontology, consisting of a core IoT ontology and domain specific modules, (3) preparealignments between ontologies of communicating artefacts and the central ontology,  (4) use the alignments for translations, and (5) establish a multi-channel (1-1, 1-many, many-1) communication architecture that will facilitate translations in all needed contexts.

INTER-IoT provides its own alignment format~\cite{Pawlowski2017}, based on alignment API, to represent interconnections between semantic data with a given ontology. IPSM utilizes alignment files and provides a multi-channel environment for any willing artifact. Pairs of uni-directional alignments between the central ontology and artifact ontology are used to translate messages to and from the central ontology. This enables connection of new artifacts without upsetting existing channels, and requires each participant to provide only a pair of alignments.

While complete ontologies are used to “build semantic understanding”, only conversation-specific alignments are stored and used for actual translations. Figure \ref{fig:IPSM} illustrates IPSM architecture. Ontology alignments and translation channels can be managed through the REST Manager.

%IPSM core: Channel Manager, Semantic Translation Channels, Alignment Applicators \\
%IPSM alignments repository: I/O Alignments, Converters \\
%IPSM communication infrastructure: Communication channels, Semantic Annotators \\

%and ontology reconciliation

%INTER-IoT.D4.1[Figure 107: Functional Components of the INTER-IoT RA with the components of the Data and Semantics interoperability layer of the INTER-LAYER\\

\begin{figure}[h!]
\centering
\includegraphics[scale=0.22]{IPSM}
\caption{Inter-Platform Semantic Mediator}
\label{fig:IPSM}
\end{figure}

%Ontology alignment – semantic translations [3]

\subsection{W3C Semantic Sensor Network (SSN)}
The SSN ontology \cite{Compton2012} is an ontology developed by W3C and the last version was published in 2011 in the official URL (\url{https://www.w3.org/2005/Incubator/ssn/ssnx/ssn}). It provides a framework to describe sensors, devices, observations and related concepts, enabling reasoning either about individual sensors as well as about the connection of a set of sensors. 

A \textit{Sensing Device} is a sensor that reports measurements and observations of real world phenomena. A sensor is different in nature from other types of devices, e.g. actuators, because of its event-based behavior, which requires temporal relationships. SSN enables reasoning about the measurements that can ease the development of advanced applications, for example by reasoning about sensor measurements, considering constraints as power restriction and limited memory. 

The SSN ontology is composed of modules and is grounded in the foundational ontology DOLCE Ultra-Light (DUL). The modules we are covering in this paper are the following:
DUL module: represents the foundational categorization of Designed Artifact, Method, Physical Object, Quality, Region and Situation.  

Skeleton module: represents the most basic concepts regarding sensors, as abstractions of real world phenomena that describe input and output of sensing, properties, observations and features of interest.

System module: represents the system concept as a Physical Object (DUL) composed by other systems (hasSubSystem), which has deployment(s) (hasDeployment), normal operating environment(s) (hasOperatingRange), survival range(s) (hasSurvivalRange) and location(s) relative to other entities (onPlatform).

Process module: Input, Output, Process, hasInput, hasOutput, isProducedBy

Measuring module: SensingDevice, SensorDataSheet, observes

Measuring Capability module: Accuracy, DetectionLimit, Drift, Frequency, Latency, MeasurementCapability, MeasurementProperty, MeasurementRange, Precision, Resolution, ResponseTime, Selectivity, Sensitivity	hasMeasurementCapability, hasMeasurementProperty

Observation module: represents a situation with a discrete time instant or a period assigned to a phenomenon, involving the application of a specified procedure, e.g. a process chain. The result of an observation is an estimate of the value of a property of some feature, allowing observation data using different procedures to be combined unambiguously. 

Device module: device

The W3C SSN Incubator Group created an example of the use of SSN by describing the Vaisala WM30 wind sensor (\href{https://www.w3.org/2005/Incubator/ssn/ssnx/meteo/WM30.html}). It describes the measurement capabilities, power supply and operating and survival properties based on the technical specification about the measurement of wind direction and speed. This example was initially reported in \cite{Compton2009}, which gives a precise description of the WM30 sensor. However, the axioms representing its main definitions and restrictions are different, following the changes in the TBox of SSN over the past years. Bellow we update these main definitions:

\begin{align*}
  \begin{aligned}
	&\node{WM30}{Vaisala\_WM30} \sqsubseteq \node{ssn}{SensingDevice}\\
	&\node{WM30}{Vaisala\_WM30} \sqsubseteq\\
	&\qquad\erestr{\node{ssn}{hasSubSystem}}{\node{WM\_30}{WM30\_WindDirection}}\\
	&\node{WM30}{Vaisala\_WM30} \sqsubseteq\\
	&\qquad\erestr{\node{ssn}{hasSubSystem}}{\node{WM\_30}{WM30\_WindSpeed}}\\	
	&\node{WM30}{Vaisala\_WM30} \sqsubseteq\\
	&\qquad\erestr{\node{ssn}{observes}}{\node{WM\_30}{WM30\_WinDirection}}\\
	&\node{WM30}{Vaisala\_WM30} \sqsubseteq\\
	&\qquad\erestr{\node{ssn}{observes}}{\node{WM\_30}{WM30\_WindSpeed}}\\
  \end{aligned}\\
\end{align*}
These axioms represent the Vaisala WM30 as a Sensing Device (therefore a Device (System) and a Sensor), composed by (has subsystem) WM30 particular sensors for wind direction and wind speed, being able to measure (observes) wind direction (WM30\_WindDirection) and speed (WM30\_WindSpeed). 

\subsection{Smart Appliances REFerence (SAREF)}
The SAREF ontology \cite{Daniele2015,Daniele2016} is a reference model that facilitates the matching of existing assets, e.g. standards, ontologies, data models and protocols, in the smart appliances domain. 

The SAREF ontology provides building blocks that enables reutilization of different parts of the ontology according to specific requirements. One of these assets is SSN, which inspired the creation of the main elements of SAREF: Device, Sensor, Unit of Measure and Time/Duration. 

A device (e.g. a switch) represents tangible objects designed to accomplish one or more functions in diverse types of locations (e.g. households, buildings). The SAREF ontology offers a lists of basic functions that can be combined towards more complex functions in a single device. For example, a switch offers an actuating function of type “switching on/off”. 

Each function has some associated commands, which can also be picked up as building blocks from a list. For example, the “switching on/off” is associated with the commands “switch on”, “switch off” and “toggle”. Depending on the function(s) it accomplishes, a device can be found in some corresponding states that are also listed as building blocks. 

A Device offers a Service, which  is a representation of a Function to a network that makes the function discoverable, registerable and remotely controllable by other devices in the network. A Service can represent one or more functions. A Service is offered by a device that wants (a certain set of) its function(s) to be discoverable, registerable, remotely controllable by other devices in the network. A Service must specify the device that is offering the service, the function(s) to be represented, and the (input and output) parameters necessary to operate the service. 

A Device in the SAREF ontology is also characterized by an (Energy/Power) Profile that can be used to optimize the energy efficiency in a home or office that are part of a building.

%%%%%%%%%%%%%%%%%%% SEC: METHODOLOY %%%%%%%%%%%%%%%%%%% 
\section{METHODOLOGY}
The development of the semantic translations follows a common software engineering approach, considering specification and implementation phases during the design time of the ontology alignments. The specification describes in natural language the possible mappings and the involved rules, linking the original ontology to the generated ontology. Our methodology is based on common approach of model-driven engineering to specify transformations from a language meta-model to another, which is similar to syntactic interoperability standards' transformations (e.g. EDXL-TEP and HL7 \footnote{\url{http://docs.oasis-open.org/emergency/TEP-HL7v2-transforms/v1.0/TEP-HL7v2-transforms-v1.0.html}}). Therefore, we produced an initial documentation regarding the classes and object properties of both ontologies and their possible relations, analyzing each class/object property according to the definitions. In particular, the DUL ontology used by SSN also supported our ontological analysis of the terms and their intended concepts, serving as foundations for the main classes, e.g. \textit{ssn:SensingDevice} is a \textit{DUL:PhysicalObject} and a \textit{DUL:DesignedArtifact}.

Similar to software engineering, the ontology alignments can be implemented in different ways. In our prior work we surveyed tools for ontology alignment [Ref.XX], describing the conceptual differences of alignment, matching, merging, mapping and translation. This approach enables to (re)use the specification for different strategies of ontology alignments’ implementation. One type of implementation that we shall use is the configuration of the alignments through the IPSM mechanism from the INTER-IoT project. 

In this paper we present part of the specification, referring to the semantic translation from SSN to SAREF. As first evaluation of this specification, we simulate an unidirectional semantic translation from WM30 ontology, represented as an extension of SSN, to an ontology represented as SAREF. In general, the result from the translations must represent the WM30 wind sensor with SAREF, keeping similar semantics of the original. 

Therefore, the goal of this evaluation is to check the semantic similarity between the original and the final ontologies. Here we used an approach based on competency questions to measure this similarity. A list of competency questions is presented and each question is responded by querying the elements (classes, properties and instances) of both ontologies. The responses are compared to verify whether the semantics is maintained after executing the translation. Intentionally, the competency questions were conceived according to the expressiveness of the SSN WM30 ontology, targeting its main elements, as the different measurement capabilities illustrated in the technical specifications (Figure \ref{fig:WM30specifications}). For each question, at first we answered the question based on the original ontology (in SSN) and, then, we answered the same question for the generated ontology (SAREF). Second, we compare whether the semantics of the response is similar to each other, i.e. if the semantics is lost or maintained. 

\begin{figure}[h!]
\centering
\includegraphics[scale=0.22]{WM30specifications}
\caption{The specification of WM30 wind sensor}
\label{fig:WM30specifications}
\end{figure}

Competency questions: 
\\\textbf{CQ01.} What are the main characteristics of the Vaisala WM30 sensor? 
\\\textbf{CQ02.} What is the composition of this sensor, i.e. what other devices are part of WM30?
\\\textbf{CQ03.} What measurement properties this sensor provides?
\\\textbf{CQ04.} What are the accuracy, delay distance, starting threshold and damping ratio of WMS30 wind direction sensors? 
\\\textbf{CQ05.} What measurement range constraints differentiate these types of wind direction sensors?
%\\CQ06. What are the distance constant, starting threshold and transducer output of wind speed sensors? 
%\\CQ07. What are the ranges of accuracy and condition ranges  constraints differentiate these types of wind speed sensors?
%\\CQ08. What is the characteristic transfer function of WM30?

\section{SEMANTIC TRANSLATIONS}

\subsection{Mappings: SSN to SAREF}
Mappings between SSN and SAREF were specified through an ontological analysis of their TBox, i.e. concepts and roles definitions (predicates) with logical operations. A study was made on how SSN and SAREF describe the characteristics of sensors, including their capabilities of observation. The mappings follow a logic sequence according to the main elements and similar structures of SSN and SAREF. 

Here we detail only the mappings from SSN to SAREF because of space limitation – the other direction, from SAREF to SSN, will be reported in the future. For each mapping a code snippet is presented, as a pseudocode, to illustrate the creation of the ontology using SAREF. While the main element in SSN is the \textit{Sensing Device}, which is a subclass of \textit{Device} and \textit{Sensor}, in SAREF the main element is \textit{Device}, which can be specialized as a \textit{Sensor} related to \textit{Sensing Function}. 

\subsubsection{M01. ssn:SensingDevice -> saref:Sensor}
The characteristics of \textit{ssn:SensingDevice}, inherited from \textit{ssn:Sensor} and \textit{ssn:System}, is mapped to \textit{saref:Sensor}, which inherits \textit{saref:Device} properties, including the relationship with the \textit{saref:SensingFunction} (\textit{saref:hasFunction}). The code snippet below illustrates this mapping. 

\begin{lstlisting}[caption={Pseudocode snippet for M01},label={code:sample}]
IN: {ssn_sensingDevice}  
create saref_sensor = saref:Sensor  

/* Copy all rdfs properties */ 
saref_sensor.rdfs:* = ssn_sensingDevice.rdfs:*
    
create saref_function = saref:SensingFunction  
create saref_hasFunction = saref:hasFunction  
create saref_sensor saref_hasFunction saref_function  

\end{lstlisting}

Figure \ref{fig:SSN_SAREF_SensingDevice_Device} illustrates the elements involved in this mapping. Notice that, indirectly, this mapping also transforms from \textit{ssn:Sensor} to \textit{saref:Sensor}.

\begin{figure}[h!]
\centering
\includegraphics[scale=0.28]{SSN_SAREF_SensingDevice_Device}
\caption{Main elements of SSN and SAREF}
\label{fig:SSN_SAREF_SensingDevice_Device}
\end{figure}

\subsubsection{M02. ssn:hasSubSystem -> saref:consistsOf}
Once executing M01, the next step is to check the composition relationship of a device, i.e. the components that are part of a device, which are characterized by both SSN and SAREF. In SSN, the object property \textit{ssn:hasSubSystem} relating two \textit{ssn:System} represents this relationship. In SAREF, the object property \textit{saref:consistsOf} plays this role, relating two \textit{saref:Device} in a similar way, both illustrated in Figure \ref{fig:SSN_SAREF_SensingDevice_Device} as a self-relationship. Therefore, when \textit{ssn:hasSubSystem} is used between the \textit{ssn\_sensingDevice} (from M01) and a \textit{ssn:System}, which must be a \textit{ssn:Device} or a \textit{ssn:SensingDevice}, then it is mapped to \textit{saref:consistsOf} object property of the \textit{saref\_sensor} (created in M01). If the device component is a \textit{ssn:SensingDevice}, then a recursive algorithm is used by applying M01 to it. If the device component is a \textit{ssn:Device}, then it is created a \textit{saref:Device}. The code snippet below illustrates this mapping.

\begin{lstlisting}[caption={Pseudocode snippet for M02},label={code:sample}]
IN: {ssn_sensingDevice, saref_sensor}
for each ssn_system in ssn_sensingDevice.ssn:hasSubSystem 
{ 
  create saref_device_component = saref:Device 
  if ssn_system is ssn:SensingDevice then 
  { 
    /* transform saref:Device to saref:Sensor */
    saref_device_component = Map(M01, ssn_system) 
  } 
  else 
  if ssn_system is ssn:Device then 
  { 
    /* Copy all rdfs properties */ 
    saref_device_component.rdfs:* = ssn_system.rdfs:* 
  } 
  create saref_consistsOf = saref:consistsOf 
  create saref_sensor saref_consistsOf saref_device_component 
}
\end{lstlisting}

\subsubsection{M03. ssn:observes -> saref:measuresProperty}
Once executing M01 and M02, the next step is to map the measurement property which the sensor is able to observe, i.e. the measurement property of a sensor. For example, a wind sensor is able to observe both wind direction and wind speed. Therefore, the \textit{ssn:observes} of a \textit{ssn:SensingDevice} is mapped to \textit{saref:measuresProperty} of a \textit{saref:Device}. These object properties relates to \textit{ssn:Property} and \textit{saref:Property}, respectively. Therefore, this mapping also includes the creation, if not exists, of the \textit{ssn:Property}. At last, this mapping needs to create the relationship back from the \textit{saref:Property} to the \textit{saref:Device} through the object property \textit{saref:isMeasuredByDevice}. The code snippet below illustrates this mapping. 

\begin{lstlisting}[caption={Pseudocode snippet for M02},label={code:sample}]
IN: {ssn_sensingDevice, saref_sensor}
for each ssn_property in ssn_sensingDevice.ssn:observes 
{ 
  create saref_property = saref:Property 
  
  saref_property = GetPropertyInSAREF(ssn_property)
    
  /* check if the property already exists */
  if saref_property is null then 
  { 
    /* Copy all rdfs properties */ 
    saref_property.rdfs:* = ssn_property.rdfs:* 
  } 
  create saref_measuresProperty = saref:measuresProperty 
  create saref_sensor saref_measuresProperty saref_property 
  
  create saref_isMeasuredByDevice = saref:isMeasuredByDevice
  create saref_property saref_isMeasuredByDevice saref_sensor
}
\end{lstlisting}

\subsection{Evaluation}
As described in the methodology section, an execution of the mappings presented above was simulated having the WM30 wind sensor example (according to SSN) as input. The output of this translation, i.e. the WM30 ontology according to SAREF, in OWL, was produced and made available (\url{https://github.com/jonimoreira/SSN-SAREF}). The answers of the competency questions, listed in methodology section, were produced by navigating and querying (SPARQL) this generated ontology with support of an ontology editor (Protegé and TopBraid Composer). The competency questions were responded as follows:

\textbf{CQ01.} In the original ontology (SSN), the main characteristics of the Vaisala WM30 sensor can be extracted by starting the navigation in the \textit{WM30:Vaisala\_WM30} element, which is a \textit{ssn:SensingDevice}, inheriting the properties from \textit{ssn:Device} and \textit{ssn:Sensor}. Besides, the \textit{rdfs:comment} with a general description of this wind sensor, it represents that the sensor is composed by two sensors (\textit{WM30:WM30\_WindDirection} and \textit{WM30:WM30\_WindSpeed)}, one for wind direction and another for wind speed (both \textit{ssn:Sensor}). Moreover, WM30 sensor can measure (observe) the types (properties) \textit{WM30:WindDirection} and \textit{WM30:WindSpeed} (both \textit{ssn:Property}). Figure \ref{fig:SSN_SystemProperties} illustrates these properties.

\begin{figure}[h!]
\centering
\includegraphics[scale=0.98]{SSN_SystemProperties}
\caption{Vaisala WM30 \textit{Sensing Device}} (SSN)
\label{fig:SSN_SystemProperties}
\end{figure}

In the generated ontology (SAREF), according to M01, \textit{WM30:Vaisala\_WM30} element is created as a \textit{saref:Sensor}. A \textit{saref:SensingFunction} is created and the \textit{WM30:Vaisala\_WM30} element linked to it through \textit{saref:hasFunction} property. According to M02, the composition of the sensor \textit{WM30:Vaisala\_WM30} is derived from the \textit{ssn:hasSubSystem} properties, i.e. \textit{WM30:WM30\_WindDirection} and \textit{WM30:WM30\_WindSpeed}, as depict in Figure \ref{fig:SSN_SystemProperties}. M03 produced the measurement properties of the sensor from the \textit{ssn:observes element}, i.e. \textit{saref:measuresProperty} to \textit{WM30:WindDirection} and \textit{WM30:WindSpeed}. Figure \ref{fig:SSN_SystemProperties} illustrates the result \textit{WM30:Vaisala\_WM30)} as a \textit{saref:Sensor}. Therefore, by navigating to \textit{WM30:Vaisala\_WM30}, a \textit{saref:Sensor}, it is possible to respond this competency question in a similar way from the original, i.e. the semantics is completely maintained.  

\begin{figure}[h!]
\centering
\includegraphics[scale=0.98]{SAREF_Sensor_WM30}
\caption{Vaisala WM30 \textit{Sensing Device} (SAREF)}
\label{fig:SAREF_Sensor_WM30}
\end{figure}

\textbf{CQ02.} In the original ontology (SSN), the composition of Vaisala WM30 sensor can be extracted by navigating from the \textit{WM30:Vaisala\_WM30} element to the \textit{ssn:hasSubSystem} properties, i.e. \textit{WM30:WM30\_WindDirection} and \textit{WM30:WM30\_WindSpeed}, both \textit{ssn:Sensor}. In particular, the WM30 wind direction sensor (\textit{WM30:WM30\_WindDirection}) can have one wiper (\textit{WM30:WMS301}) or two (\textit{WM30:WMS302}), which has greater measurement range. The same structure is generated in SAREF, resulted from M02, having \textit{WM30:WM30\_WindDirection} and \textit{WM30:WM30\_WindSpeed} created as \textit{saref:Device}, linked through the object property \textit{saref:consistsOf}. It is possible to achieve the same structure of \textit{WM30:WM30\_WindDirection} and \textit{WM30:WM30\_WindSpeed}, including the specialization to one or two wipes, by navigating from \textit{WM30:Vaisala\_WM30} (\textit{saref:Sensor}) through \textit{saref:consistsOf}. Therefore, this competency question is responded in a similar way from the original, i.e. the semantics is completely maintained.

\textbf{CQ03.} In the original ontology (SSN), the measurement properties of Vaisala WM30 sensor can be extracted by navigating from the \textit{WM30:Vaisala\_WM30} element through the \textit{ssn:observes} properties, i.e. \textit{WM30:WindDirection} and \textit{WM30:WindSpeed}, both \textit{ssn:Property}. WM30 original example also uses an ontology of Quantity Kinds (\url{http://purl.oclc.org/NET/ssnx/qu}) through the element \textit{qu:QuantityKind} as \textit{ssn:Property}. This element provides a taxonomy of quality dimensions, making use of \textit{dim:Angle} for \textit{WM30:WindDirection} and \textit{dim:VelocityOrSpeed} for \textit{WM30:WindSpeed}. The same structure is generated in SAREF, resulted from M03, as \textit{saref:Property}. Therefore, similar to CQ01 and CQ02, the semantics is completely maintained.

\textbf{CQ04.} The specification of the WMS30 wind direction sensor (Figure \ref{fig:WM30specifications}) describes the accuracy, delay distance, starting threshold and damping ratio of this sensor. For example, accuracy can vary from -3 to 3 degrees, while the delay distance is 0.6 meters and the starting threshold is lower than 1.0 m/s. 
In the original ontology (SSN), the measurement capabilities of each wind direction and speed components  of Vaisala WM30 sensor can be extracted by navigating from the \textit{WM30:Vaisala\_WM30} element through the \textit{ssn:hasSubSystem} properties, i.e. \textit{WM30:WM30\_WindDirection} and \textit{WM30:WM30\_WindSpeed}, both \textit{ssn:Sensor}, as described in CQ02. The WM30 wind direction sensor with one wiper (\textit{WM30:WMS301}) has measurement capability (\textit{ssn:hasMeasurementCapability}) a  \textit{WM30:WM30\_WindDirection\_MeasurementCapability\_WMS301} (similar for \textit{WM30:WMS302}). A \textit{WM30:WM30\_WindDirection\_MeasurementCapability\_WMS301} is a \textit{WM30:WM30\_WindDirection\_MeasurementCapability}, which describes the ranges supported (restrictions) for accuracy, delay distance, starting threshold and damping ratio, illustrated in the axioms of Figure \ref{fig:SSN_MeasurementCapability}. \textit{ssn:MeasurementCapability} is a \textit{ssn:Property}. 

\begin{figure}[h!]
\centering
\includegraphics[scale=0.87]{SSN_MeasurementCapability}
\caption{Vaisala WM30 wind direction measurement capabilities} 
\label{fig:SSN_MeasurementCapability}
\end{figure}

In the generated ontology (SAREF), these measurement capabilities were lost because there is not a structure similar to \textit{ssn:MeasurementCapability}) in SAREF, thus, no mappings were added to consider the  \textit{ssn:hasMeasurementCapability}) object property of \textit{ssn:Sensor}. Therefore, this question could not be responded with the generated ontology (semantics was lost).  

\textbf{CQ05.} In the original ontology (SSN), the measurement range constraints differentiating 301 and 302 wind direction sensors can be extracted by analyzing the restrictions of \textit{WM30:WM30\_WindDirection\_MeasurementCapability\_WMS301} and \textit{WM30:WM30\_WindDirection\_MeasurementCapability\_WMS302} regarding the object property \textit{ssn:hasMeasurementProperty}. The first restricts the measurement range from 0 to 355 degrees, while the second restricts from 0 to 360 degrees. This question could not be responded with the generated ontology because of the same reason described in CQ04, i.e. the absence of \textit{ssn:MeasurementCapability} in SAREF and no mappings on the \textit{ssn:hasMeasurementCapability} object property.


%%%%%%%%%%%%%%%%%%% SEC: DISCUSSION %%%%%%%%%%%%%%%%%%% 
\subsection{Discussion}

The evaluation above demonstrated that from 5 competency questions only 3 (60\%) could be answered with the mappings described in this paper. The main issue identified is the lack of a naive element in SAREF to describe the measurement capabilities  of a sensor, which SSN enables through the \textit{ssn:hasMeasurementCapability}) object property of \textit{ssn:Sensor}. To cope with this issue we suggest that saref:Function should implement a similar object property (\textit{saref:hasMeasurementCapability}) and \textit{ssn:MeasurementCapability} is absorbed by SAREF as specialization of \textit{saref:Property}. 

A conceptual issue in SSN was identified regarding the element ssn:Sensor. The description of this element states that it “allows sensors, methods, instruments, systems, algorithms and process chains as the process used of an observation (…) they are all grouped under the term sensor”. Thus, is describes that ssn:Sensor is a system, but it was not implemented as a specialization of ssn:System. In thi way, ssn:Sensor could also inherit the composition relationship (ssn:hasSubSystem) and, thus, can represent a set of sensors. 

One issue identified in WM30 ontology regards the \textit{WM30:Vaisala\_WM30} composition of wind direction and speed sensors. Both \textit{WM30:WM30\_WindDirection} and \textit{WM30:WM30\_WindSpeed} are \textit{ssn:Sensor}, but the composition relationship (\textit{ssn:hasSubSystem}) is applied from a \textit{ssn:System} to a \textit{ssn:System}. Since \textit{ssn:Sensor} is not a \textit{ssn:System}, thus the mapping M02 should consider not only \textit{ssn:System} within \textit{ssn:hasSubSystem} property. 

A practical issue when mapping to SAREF is to consider extending the taxonomy of sensor "types" by creating a new element when the type does not exist in SAREF. For example, smoke and temperature sensors are classified as \textit{saref:SmokeSensor} and \textit{saref:TemperatureSensor,} respectively, having  function (\textit{saref:hasFunction}) and measure property (\textit{saref:measuresProperty}), linking the type of the sensor with functions it has and the type of property it measures (\textit{saref:Smoke} and \textit{saref:Temperature}. Thus, in our example, the correct implementation for the wind sensor is to create the subclass \textit{saref:WindSensor}, with function sensing and measuring the properties of wind direction and wind speed, which is guaranteed by M01 \cite{bowman:reasoning,
clark:pct, braams:babel, herlihy:methodology}. 


%%%%%%%%%%%%%%%%%%% SEC: CONCLUSIONS %%%%%%%%%%%%%%%%%%% 
\section{CONCLUSIONS}

In this paper we described the initial mappings between SSN and SAREF towards their ontological alignments to enable their semantic integration. In particular, the mappings presented here focused in translating the main parts of a sensor ontology, i.e. the elements about sensor, device, composition and functions. Here we detailed three mappings to cover these properties, showing how to produce a SAREF ontology from a SSN ontology through a semantic translation mechanism. An evaluation was performed to validate the initial specification produced, which used an ontology of wind sensor in SSN (WM30, provided by W3C) as input and a SAREF-based ontology. The results showed a coverage of 60\% of semantics maintained from the original ontology to the generated one. Th main issue identified is the lack of measurement capabilities in SAREF to represent properties of the the property measured, i.e. the meta-properties of a measurement. For example, the WM30 wind sensor measures the property wind direction, which has properties accuracy, delay distance, starting threshold and damping ratio. 

From this initial iteration on the development of the bi-directional semantic translations we can conclude that the mappings presented here reflect the foundations of the ontology alignment between SSN and SAREF. Therefore, it already enables a level of semantic interoperability between sensors' networks (SSN) and smart appliances (SAREF). Future work includes the acquisition and/or generation of test datasets in both SSN and SAREF, giving emphasis to the requirements for an early warning system \cite{Moreira2017} to detect accidents in the port of Valencia. New mappings will be created according to this scope with incremental evaluations, using the test datasets to verify whether the semantic interoperability is improved or not.  


%ACKNOWLEDGMENTS are optional
%\section{Acknowledgments}
%This section is optional.

%
% The following two commands are all you need in the
% initial runs of your .tex file to
% produce the bibliography for the citations in your paper.
\bibliographystyle{abbrv}
\bibliography{Semantics2017_references}  % sigproc.bib is the name of the Bibliography in this case
% You must have a proper ".bib" file
%  and remember to run:
% latex bibtex latex latex
% to resolve all references
%
% ACM needs 'a single self-contained file'!
%
%APPENDICES are optional
%\balancecolumns




\end{document}
